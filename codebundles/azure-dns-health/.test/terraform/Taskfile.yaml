version: "3"

tasks:
  default:
    desc: "Run terraform init and plan"
    cmds:
      - task: init
      - task: plan

  init:
    desc: "Initialize Terraform"
    cmds:
      - terraform init

  plan:
    desc: "Run terraform plan"
    cmds:
      - terraform plan

  apply:
    desc: "Run terraform apply"
    cmds:
      - terraform apply -auto-approve

  destroy:
    desc: "Run terraform destroy"
    cmds:
      - terraform destroy -auto-approve

  format-and-init-terraform:
    desc: "Format and initialize Terraform"
    cmds:
      - terraform fmt -recursive
      - terraform init

