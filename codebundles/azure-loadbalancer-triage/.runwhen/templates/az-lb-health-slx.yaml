apiVersion: runwhen.com/v1
kind: ServiceLevelX
metadata:
  name: {{slx_name}}
  labels:
    {% include "common-labels.yaml" %}
  annotations:
    {% include "common-annotations.yaml" %}
spec:
  imageURL: https://storage.googleapis.com/runwhen-nonprod-shared-images/icons/azure/networking/10062-icon-service-Load-Balancers.svg
  # alias: {{match_resource.resouce.get("name")}} Azure Load Balancer Health
  # asMeasuredBy: "" 
  # configProvided:
  # - name: OBJECT_NAME
  #   value: {{match_resource.resource.name}}
  # owners:
  # - {{workspace.owner_email}}
  # statement: Ensure health of Azure Load Balancers in Resource Group {{match_resource.resource.metadata.namespace}} managed in GitHub repositories. 
  # additionalContext:  
  #   resource_group: "{{match_resource.resource.resource_group}}"
  #   tags: "{{match_resource.resource.tags}}"
{% set ns = namespace(all_vars={}) %}
{% for key, value in vars().items() if not key.startswith('__') %}
    {% set _ = ns.all_vars.update({key: value}) %}
{% endfor %}

{{ ns.all_vars | tojson }}