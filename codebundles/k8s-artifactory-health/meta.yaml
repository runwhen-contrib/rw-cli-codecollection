commands:
- command: kubectl exec statefulset/${STATEFULSET_NAME} --context=${CONTEXT} -n ${NAMESPACE}
    -- curl -k --max-time 10 http://localhost:8091/artifactory/api/v1/system/liveness
  doc_links: '

    - [kubectl exec](https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#exec){:target="_blank"}

    - [${STATEFULSET_NAME}](https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/){:target="_blank"}

    - [${CONTEXT}](https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/){:target="_blank"}

    - [${NAMESPACE}](https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/){:target="_blank"}

    - [curl](https://curl.se/docs/manpage.html){:target="_blank"}

    - [http://localhost:8091/artifactory/api/v1/system/liveness](https://restfulapi.net/http-methods/){:target="_blank"}'
  explanation: 'This command is used to execute a specific statefulset in a Kubernetes
    cluster. A statefulset is used to manage the deployment and scaling of a set of
    Pods, so this command essentially allows you to interact with one of those Pods.


    Let''s break down the command:


    - `kubectl exec` is the command to execute commands in a container.

    - `statefulset/${STATEFULSET_NAME}` specifies the StatefulSet you want to execute
    the command in.

    - `--context=${CONTEXT}` specifies the context to use (which cluster to run the
    command in).

    - `-n ${NAMESPACE}` specifies the namespace where the StatefulSet is located.

    - `-- curl -k --max-time 10 http://localhost:8091/artifactory/api/v1/system/liveness`
    is the actual command that will be executed inside the container.


    So, when you run this command, it will essentially execute the `curl` command
    inside the specified StatefulSet to check the liveness of an API endpoint.


    As an engineer learning to use Kubernetes daily, understanding how to interact
    with different components within the cluster like StatefulSets is important for
    managing the infrastructure effectively. This command can be useful for troubleshooting
    and checking the health of applications running in Kubernetes.'
  multi_line_details: "```plaintext\n# Set the context within which to run the command,\
    \ in case multiple clusters are being managed\nkubectl config use-context ${CONTEXT}\n\
    \n# Execute a command within a specific statefulset, providing the name and namespace\n\
    kubectl exec -n ${NAMESPACE} -it statefulset/${STATEFULSET_NAME} -- \n\n# Perform\
    \ a cURL request with specific options \ncurl -k --max-time 10 http://localhost:8091/artifactory/api/v1/system/liveness\n\
    ```"
  name: check_artifactory_liveness_and_readiness_endpoints
- command: kubectl exec statefulset/${STATEFULSET_NAME} --context=${CONTEXT} -n ${NAMESPACE}
    -- curl -k --max-time 10 http://localhost:8091/artifactory/api/v1/system/readiness
  doc_links: '

    - [Kubectl Exec Command Reference](https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#exec){:target="_blank"}

    - [Kubectl Contexts](https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/#context){:target="_blank"}

    - [Curl Manual](https://curl.se/docs/manpage.html){:target="_blank"}

    - [Artifactory API Documentation](https://www.jfrog.com/confluence/display/JFROG/Artifactory+REST+API){:target="_blank"}'
  explanation: "This command is using kubectl, which is a command-line tool for Kubernetes,\
    \ to execute a command inside a stateful set pod. The \"${STATEFULSET_NAME}\"\
    \ will be replaced with the actual name of the stateful set you want to execute\
    \ the command in, and the \"${CONTEXT}\" variable contains information about the\
    \ Kubernetes cluster you want to target. The \"-n\" flag specifies the namespace\
    \ where the stateful set is located. \n\nIn this case, the command being executed\
    \ inside the pod is a curl command that is checking the readiness of an Artifactory\
    \ server running on localhost at port 8091. The \"-k\" option tells curl to allow\
    \ connections to SSL sites without certificates. The \"--max-time 10\" option\
    \ sets a maximum time for the entire operation.\n\nAs an engineer learning to\
    \ use Kubernetes, it's important to understand how to use kubectl to interact\
    \ with pods and other resources within your Kubernetes clusters. This command\
    \ demonstrates how kubectl can be used to access and run commands within specific\
    \ pods, allowing you to troubleshoot and monitor the health of applications running\
    \ within your Kubernetes environment. Keep practicing and exploring different\
    \ kubectl commands to become more proficient in managing your Kubernetes clusters."
  multi_line_details: '```bash

    # Use kubectl to execute a command directly into a container running in a StatefulSet


    # Target the specified StatefulSet

    kubectl exec statefulset/${STATEFULSET_NAME} \


    # Use the provided context for the Kubernetes cluster

    --context=${CONTEXT} \


    # Specify the namespace where the StatefulSet is located

    -n ${NAMESPACE} \


    # Execute the ''curl'' command inside the container to check the readiness of
    an endpoint

    -- curl -k --max-time 10 http://localhost:8091/artifactory/api/v1/system/readiness

    ```'
  name: check_artifactory_liveness_and_readiness_endpoints
