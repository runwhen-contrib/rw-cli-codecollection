commands:
- command: kubectl exec statefulset/${STATEFULSET_NAME} --context=${CONTEXT} -n ${NAMESPACE}
    -- curl -k --max-time 10 http://localhost:8091/artifactory/api/v1/system/liveness
  doc_links: '

    - [kubectl Reference Documentation](https://kubernetes.io/docs/reference/kubectl/overview/){:target="_blank"}

    - [Kubernetes StatefulSets Documentation](https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/){:target="_blank"}

    - [curl Manual](https://curl.se/docs/manual.html){:target="_blank"}

    - [kubectl Contexts Documentation](https://kubernetes.io/docs/concepts/configuration/organize-cluster-access-kubeconfig/){:target="_blank"}

    - [curl man page](https://linux.die.net/man/1/curl){:target="_blank"}'
  explanation: This command uses kubectl to execute a command within the specified
    statefulset in the given namespace, sending a curl request to check the liveness
    of a service running on localhost. It also includes parameters such as --context
    and --max-time to specify the context and maximum time for the request.
  multi_line_details: "#!/bin/bash\n\n# Set the statefulset name\nSTATEFULSET_NAME=\"\
    name_here\"\n\n# Set the context\nCONTEXT=\"context_here\"\n\n# Set the namespace\n\
    NAMESPACE=\"namespace_here\"\n\n# Execute the curl command inside the specified\
    \ statefulset\nkubectl exec statefulset/${STATEFULSET_NAME} \\\n  --context=${CONTEXT}\
    \ \\\n  -n ${NAMESPACE} \\\n  -- curl -k --max-time 10 http://localhost:8091/artifactory/api/v1/system/liveness"
  name: check_artifactory_liveness_and_readiness_endpoints
- command: kubectl exec statefulset/${STATEFULSET_NAME} --context=${CONTEXT} -n ${NAMESPACE}
    -- curl -k --max-time 10 http://localhost:8091/artifactory/api/v1/system/readiness
  doc_links: '

    - [kubectl](https://kubernetes.io/docs/reference/kubectl/overview/){:target="_blank"}

    - [statefulset](https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/){:target="_blank"}

    - [namespace](https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/){:target="_blank"}

    - [context](https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters/){:target="_blank"}

    - [curl command](https://curl.se/docs/manpage.html){:target="_blank"}

    - [Artifactory API](https://www.jfrog.com/confluence/display/JFROG/Artifactory+REST+API){:target="_blank"}'
  explanation: This command uses kubectl to execute a command within a specific statefulset
    in a given namespace, using a specific context. In this case, it is running a
    curl command to check the readiness of an Artifactory API within the specified
    statefulset.
  multi_line_details: '# Set up the kubectl exec command to run on a specific statefulset
    and namespace

    # with a specified context and then curl the specified URL

    kubectl exec statefulset/${STATEFULSET_NAME} \

    --context=${CONTEXT} \

    -n ${NAMESPACE} \

    -- curl -k --max-time 10 http://localhost:8091/artifactory/api/v1/system/readiness'
  name: check_artifactory_liveness_and_readiness_endpoints
